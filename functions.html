<!DOCTYPE html>
<html>
<head>
  <title>JavaScript Functions</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>JavaScript Functions Used</h1>

    <h2>comparePoints(event)</h2>
    <p>
      This function is triggered when the "Compare" button is clicked. It retrieves the player name and test points entered
      in the form, fetches the CSV file containing player data, and compares the test points with the player's average points.
      It then displays the comparison result on the webpage.
    </p>
    <pre><code>
// Function to compare player's points to the stored average
function comparePoints(event) {
  event.preventDefault(); // Prevent form submission

  // Get the player name and test points from the form
  const playerName = document.getElementById('player-name').value;
  const testPoints = parseInt(document.getElementById('test-points').value);

  // Fetch the CSV file containing player data
  fetch('player_data.csv')
    .then(response => response.text())
    .then(data => {
      // Use PapaParse to parse the CSV data
      const parsedData = Papa.parse(data, { header: true });

      const players = {};

      // Iterate through each row of the parsed CSV data
      parsedData.data.forEach(row => {
        const name = row.NAME;
        const average = parseFloat(row.PPG);
        players[name] = average;
      });

      // Check if the player exists in the data
      if (players.hasOwnProperty(playerName)) {
        const playerAverage = players[playerName];
        const result = testPoints > playerAverage ? 'above' : 'below';
        document.getElementById('result').textContent = `The test points for ${playerName} are ${result} the average (${playerAverage}).`;
      } else {
        document.getElementById('result').textContent = `Player '${playerName}' not found in the data.`;
      }
    })
    .catch(error => {
      console.log('Error fetching player data:', error);
    });
}

// Add event listener to the compare button
const compareBtn = document.getElementById('compare-btn');
compareBtn.addEventListener('click', comparePoints);
    </code></pre>

    <h2>goToComparison()</h2>
    <p>
      This function is triggered when the "Go to Player Comparison" button is clicked. It redirects the user to the NBA Player
      Points Comparison page.
    </p>
    <pre><code>
// Function to handle the button click event
function goToComparison() {
  // Redirect to the NBA Player Points Comparison page
  window.location.href = "player_comparison.html";
}

// Add event listener to the "Go to Player Comparison" button
const goToComparisonBtn = document.getElementById("go-to-comparison-btn");
goToComparisonBtn.addEventListener("click", goToComparison);
    </code></pre>
  </div>
</body>
</html>
